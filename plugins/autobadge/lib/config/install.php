<?php

/*
 * @author Gaponov Igor <gapon2401@gmail.com>
 */

// На одной из установок почему-то трижды инициировалась установка плагина. На всякий случай поставил проверку
$app_settings = new waAppSettingsModel();
$first_time_install = !$app_settings->get('shop.autobadge', 'first_install');
if ($first_time_install) {
    // Создаем каталог для картинок
    try {
        waFiles::copy(dirname(__FILE__) . '/../../img/badges/', wa('shop')->getDataPath('plugins/autobadge/', true, 'site'));
    } catch (Exception $e) {
        
    }

    // Создаем шаблоны
    try {
        $satm = new shopAutobadgeTemplatePluginModel();
        $templates = array(
            array("name" => _wp("Simple green badge with discount"), "settings" => 'a:12:{s:2:"id";s:11:"ribbon-2-rl";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-2"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:6:{s:4:"type";s:5:"color";s:8:"gradient";a:4:{s:5:"start";s:6:"ff0000";s:3:"end";s:6:"990000";s:11:"orientation";s:6:"radial";s:4:"type";s:7:"to_left";}s:8:"elements";a:1:{s:7:":before";s:18:"border-right-color";}s:5:"color";s:6:"3e9865";s:9:"color_rgb";s:10:"62,152,101";s:12:"transparency";s:3:"0.8";}s:4:"size";a:6:{s:4:"type";s:5:"input";s:5:"width";s:2:"55";s:6:"height";s:2:"50";s:11:"width_ratio";s:1:"0";s:5:"ratio";a:1:{s:7:":before";a:2:{s:13:"border-bottom";s:11:"transparent";s:10:"border-top";s:11:"transparent";}}s:12:"height_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:9:"top_right";s:7:"margins";a:4:{s:3:"top";s:2:"-5";s:5:"right";s:3:"-12";s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:11:"orientation";s:10:"right_left";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-2-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-2-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-2-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-2-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:4:{s:11:"dashed_line";a:2:{s:4:"type";s:5:"color";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:2:{s:9:"top-right";s:1:"0";s:12:"bottom-right";s:1:"0";}}s:4:"tail";a:5:{s:4:"type";s:5:"color";s:8:"position";s:12:"bottom_right";s:14:"avail_position";a:2:{i:0;s:9:"top_right";i:1;s:12:"bottom_right";}s:5:"color";s:6:"666666";s:4:"size";s:1:"6";}s:6:"tongue";a:2:{s:4:"size";s:2:"12";s:8:"elements";a:1:{s:7:":before";a:1:{s:4:"left";s:18:"border-right-width";}}}}s:9:"multiline";s:1:"1";s:4:"text";a:2:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:32:"{$product.discount_percentage} %";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"1";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"16";s:5:"align";s:6:"center";s:5:"width";s:2:"50";s:7:"margins";a:2:{s:3:"top";s:2:"-1";s:5:"right";s:1:"0";}}i:1;a:5:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('discount')) . ':"' . _wp('discount') . '";s:4:"size";s:2:"12";s:7:"margins";a:1:{s:3:"top";s:1:"1";}s:6:"family";s:16:"Arial,sans-serif";}}}'),
            array("name" => _wp("Low price"), "settings" => 'a:12:{s:2:"id";s:11:"ribbon-2-lr";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-2"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:6:{s:4:"type";s:5:"color";s:8:"gradient";a:4:{s:5:"start";s:6:"ff0000";s:3:"end";s:6:"990000";s:11:"orientation";s:6:"radial";s:4:"type";s:8:"to_right";}s:8:"elements";a:1:{s:7:":before";s:17:"border-left-color";}s:5:"color";s:6:"3f26d1";s:9:"color_rgb";s:9:"63,38,209";s:12:"transparency";s:3:"0.6";}s:4:"size";a:6:{s:4:"type";s:5:"input";s:5:"width";s:3:"100";s:6:"height";s:2:"30";s:11:"width_ratio";s:1:"0";s:5:"ratio";a:1:{s:7:":before";a:2:{s:13:"border-bottom";s:11:"transparent";s:10:"border-top";s:11:"transparent";}}s:12:"height_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:2:"15";s:5:"right";s:3:"-12";s:6:"bottom";s:1:"0";s:4:"left";s:2:"-9";}}s:11:"orientation";s:10:"left_right";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-2-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-2-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-2-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-2-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:4:{s:11:"dashed_line";a:2:{s:4:"type";s:5:"color";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:2:{s:11:"bottom-left";s:1:"0";s:8:"top-left";s:1:"0";}}s:4:"tail";a:6:{s:4:"type";s:5:"color";s:8:"position";s:11:"bottom_left";s:14:"avail_position";a:2:{i:0;s:11:"bottom_left";i:1;s:8:"top_left";}s:5:"color";s:6:"000000";s:4:"size";s:1:"4";s:9:"color_rgb";s:5:"0,0,0";}s:6:"tongue";a:2:{s:4:"size";s:2:"12";s:8:"elements";a:1:{s:7:":before";a:1:{s:5:"right";s:17:"border-left-width";}}}}s:9:"multiline";s:1:"1";s:4:"text";a:1:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Low price')) . ':"' . _wp('Low price') . '";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"1";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"14";s:5:"align";s:6:"center";s:5:"width";s:0:"";s:7:"margins";a:2:{s:3:"top";s:0:"";s:5:"right";s:1:"0";}}}}'),
            array("name" => _wp("Discount percentage on image"), "settings" => 'a:7:{s:2:"id";s:8:"ribbon-6";s:12:"construction";s:79:"<div class="autobadge-pl ribbon-6"><span class="badge-text-block"></span></div>";s:4:"size";a:3:{s:4:"type";s:5:"input";s:5:"width";s:2:"50";s:6:"height";s:2:"50";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:12:"torientation";s:10:"horizontal";s:9:"multiline";s:1:"1";s:4:"text";a:3:{i:0;a:6:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Discount')) . ':"' . _wp('Discount') . '";s:6:"shadow";s:1:"0";s:4:"size";s:2:"11";s:7:"margins";a:1:{s:3:"top";s:2:"42";}s:6:"family";s:20:"Helvetica,sans-serif";}i:1;a:7:{s:4:"type";s:4:"text";s:5:"value";s:31:"{$product.discount_percentage}%";s:7:"margins";a:2:{s:3:"top";s:2:"48";s:5:"right";s:2:"-2";}s:5:"color";s:6:"ffffff";s:4:"size";s:2:"18";s:6:"family";s:20:"Helvetica,sans-serif";s:6:"shadow";s:1:"0";}i:2;a:5:{s:4:"type";s:5:"image";s:3:"src";s:35:"%plugin_url%img/badges/Badge-11.png";s:5:"width";s:2:"50";s:3:"top";s:3:"-10";s:5:"right";s:1:"0";}}}'),
            array("name" => _wp("Circle 50%"), "settings" => 'a:13:{s:2:"id";s:8:"ribbon-3";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-3"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:2:{s:4:"type";s:8:"gradient";s:8:"gradient";a:6:{s:5:"start";s:6:"fbda36";s:3:"end";s:6:"f47226";s:11:"orientation";s:6:"linear";s:4:"type";s:9:"to_bottom";s:15:"start_color_rgb";s:10:"251,218,54";s:13:"end_color_rgb";s:10:"244,114,38";}}s:6:"border";a:3:{s:5:"width";s:1:"0";s:5:"style";s:5:"solid";s:5:"color";s:6:"000000";}s:4:"size";a:8:{s:4:"type";s:5:"input";s:5:"width";s:2:"70";s:9:"max-width";s:0:"";s:10:"max-height";s:0:"";s:6:"height";s:2:"70";s:9:"autowidth";s:1:"1";s:12:"height_ratio";s:1:"0";s:11:"width_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:11:"orientation";s:10:"top_bottom";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-3-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-3-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-3-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-3-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:3:{s:11:"dashed_line";a:2:{s:4:"type";s:4:"hide";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:4:{s:9:"top-right";s:2:"70";s:8:"top-left";s:2:"70";s:11:"bottom-left";s:2:"70";s:12:"bottom-right";s:2:"70";}}s:4:"tail";a:5:{s:4:"type";s:4:"hide";s:8:"position";s:9:"top_right";s:14:"avail_position";a:2:{i:0;s:8:"top_left";i:1;s:9:"top_right";}s:5:"color";s:6:"263746";s:4:"size";s:1:"6";}}s:9:"multiline";s:1:"1";s:4:"text";a:2:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:3:"50%";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"0";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"20";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:2:"-2";s:5:"right";s:2:"-2";}}i:1;a:3:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Discount')) . ':"' . _wp('Discount') . '";s:6:"shadow";s:1:"0";}}}'),
            array("name" => _wp("100% money back guarantee"), "settings" => 'a:13:{s:2:"id";s:8:"ribbon-3";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-3"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:2:{s:4:"type";s:8:"gradient";s:8:"gradient";a:6:{s:5:"start";s:6:"0f9cf4";s:3:"end";s:6:"085efe";s:11:"orientation";s:6:"linear";s:4:"type";s:9:"to_bottom";s:15:"start_color_rgb";s:10:"15,156,244";s:13:"end_color_rgb";s:8:"8,94,254";}}s:6:"border";a:3:{s:5:"width";s:1:"0";s:5:"style";s:5:"solid";s:5:"color";s:6:"000000";}s:4:"size";a:8:{s:4:"type";s:5:"input";s:5:"width";s:3:"100";s:9:"max-width";s:0:"";s:10:"max-height";s:0:"";s:6:"height";s:3:"100";s:9:"autowidth";s:1:"1";s:12:"height_ratio";s:1:"0";s:11:"width_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:11:"orientation";s:10:"top_bottom";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-3-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-3-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-3-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-3-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:3:{s:11:"dashed_line";a:2:{s:4:"type";s:4:"hide";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:4:{s:9:"top-right";s:2:"20";s:8:"top-left";s:2:"20";s:11:"bottom-left";s:2:"20";s:12:"bottom-right";s:2:"20";}}s:4:"tail";a:5:{s:4:"type";s:4:"hide";s:8:"position";s:9:"top_right";s:14:"avail_position";a:2:{i:0;s:8:"top_left";i:1;s:9:"top_right";}s:5:"color";s:6:"263746";s:4:"size";s:1:"6";}}s:9:"multiline";s:1:"1";s:4:"text";a:10:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:5:"100% ";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"0";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"20";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:2:"-8";s:5:"right";s:0:"";}}i:1;a:7:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('moneyback')) . ':"' . _wp('moneyback') . '";s:6:"shadow";s:1:"0";s:4:"size";s:2:"16";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:7:"margins";a:1:{s:3:"top";s:2:"-7";}}i:2;a:6:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Guarantee')) . ':"' . _wp('Guarantee') . '";s:6:"family";s:20:"' . "'PT Sans'" . ',sans-serif";s:5:"style";s:6:"italic";s:6:"shadow";s:1:"0";s:7:"margins";a:1:{s:3:"top";s:2:"-5";}}i:3;a:4:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/line.png";s:3:"top";s:1:"9";s:5:"right";s:2:"10";}i:4;a:4:{s:4:"type";s:5:"image";s:3:"src";s:25:"%plugin_url%img/line2.png";s:5:"right";s:2:"10";s:6:"bottom";s:1:"9";}i:5;a:5:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/star.png";s:6:"bottom";s:2:"12";s:4:"left";s:1:"9";s:5:"width";s:2:"16";}i:6;a:5:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/star.png";s:6:"bottom";s:2:"12";s:4:"left";s:2:"26";s:5:"width";s:2:"16";}i:7;a:5:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/star.png";s:6:"bottom";s:2:"12";s:4:"left";s:2:"43";s:5:"width";s:2:"16";}i:8;a:5:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/star.png";s:6:"bottom";s:2:"12";s:4:"left";s:2:"60";s:5:"width";s:2:"16";}i:9;a:5:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/star.png";s:6:"bottom";s:2:"12";s:4:"left";s:2:"76";s:5:"width";s:2:"16";}}}'),
            array("name" => _wp("Sale"), "settings" => 'a:12:{s:2:"id";s:11:"ribbon-2-rl";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-2"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:6:{s:4:"type";s:5:"color";s:8:"gradient";a:6:{s:5:"start";s:6:"fff700";s:3:"end";s:6:"fff200";s:11:"orientation";s:6:"linear";s:4:"type";s:7:"to_left";s:15:"start_color_rgb";s:9:"255,247,0";s:13:"end_color_rgb";s:9:"255,242,0";}s:8:"elements";a:1:{s:7:":before";s:18:"border-right-color";}s:5:"color";s:6:"ffd900";s:9:"color_rgb";s:9:"255,217,0";s:12:"transparency";s:4:"0.55";}s:4:"size";a:6:{s:4:"type";s:5:"input";s:5:"width";s:2:"95";s:6:"height";s:2:"36";s:11:"width_ratio";s:1:"0";s:5:"ratio";a:1:{s:7:":before";a:2:{s:13:"border-bottom";s:11:"transparent";s:10:"border-top";s:11:"transparent";}}s:12:"height_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:11:"bottom_left";s:7:"margins";a:4:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:3:"-13";}}s:11:"orientation";s:10:"right_left";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-2-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-2-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-2-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-2-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:4:{s:11:"dashed_line";a:3:{s:4:"type";s:5:"color";s:5:"color";s:6:"f0afaf";s:9:"color_rgb";s:11:"240,175,175";}s:6:"radius";a:1:{s:5:"value";a:2:{s:9:"top-right";s:1:"0";s:12:"bottom-right";s:1:"0";}}s:4:"tail";a:5:{s:4:"type";s:4:"hide";s:8:"position";s:9:"top_right";s:14:"avail_position";a:2:{i:0;s:9:"top_right";i:1;s:12:"bottom_right";}s:5:"color";s:6:"263746";s:4:"size";s:1:"6";}s:6:"tongue";a:2:{s:4:"size";s:1:"9";s:8:"elements";a:1:{s:7:":before";a:1:{s:4:"left";s:18:"border-right-width";}}}}s:9:"multiline";s:1:"1";s:4:"text";a:1:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Sale')) . ':"' . _wp('Sale') . '";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"1";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"14";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";}}}}'),
            array("name" => _wp("Promo"), "settings" => 'a:11:{s:2:"id";s:11:"ribbon-4-tr";s:12:"construction";s:96:"<div class="autobadge-pl ribbon-4"><span class="badge-text-block"><span>Text</span></span></div>";s:10:"background";a:4:{s:4:"type";s:8:"gradient";s:7:"element";s:16:"badge-text-block";s:8:"gradient";a:4:{s:5:"start";s:6:"ff0000";s:3:"end";s:6:"990000";s:11:"orientation";s:6:"linear";s:4:"type";s:9:"to_bottom";}s:8:"elements";a:2:{s:7:":before";a:2:{i:0;s:16:"border-top-color";i:1;s:17:"border-left-color";}s:6:":after";a:2:{i:0;s:16:"border-top-color";i:1;s:18:"border-right-color";}}}s:6:"border";a:3:{s:5:"width";s:1:"0";s:5:"style";s:5:"solid";s:5:"color";s:6:"000000";}s:10:"box-shadow";a:7:{s:7:"element";s:16:"badge-text-block";s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"3";s:4:"blur";s:2:"10";s:6:"spread";s:2:"-5";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:4:"size";a:5:{s:4:"type";s:5:"range";s:5:"width";s:1:"0";s:6:"height";s:2:"50";s:14:"height_element";a:1:{s:16:"badge-text-block";s:11:"line-height";}s:4:"keys";a:2:{s:4:"root";a:2:{i:0;s:5:"width";i:1;s:6:"height";}s:16:"badge-text-block";a:3:{i:0;s:5:"width";i:1;s:3:"top";i:2;s:5:"right";}}}s:8:"position";a:1:{s:7:"margins";a:2:{s:3:"top";s:1:"1";s:5:"right";s:1:"0";}}s:11:"orientation";s:9:"top_right";s:12:"orientations";a:4:{s:8:"top_left";a:1:{s:2:"id";s:11:"ribbon-4-tl";}s:9:"top_right";a:1:{s:2:"id";s:11:"ribbon-4-tr";}s:11:"bottom_left";a:1:{s:2:"id";s:11:"ribbon-4-bl";}s:12:"bottom_right";a:1:{s:2:"id";s:11:"ribbon-4-br";}}s:10:"additional";a:1:{s:5:"tails";a:1:{s:4:"type";s:4:"show";}}s:4:"text";a:1:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp("Promo")) . ':"' . _wp("Promo") . '";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"0";s:6:"family";s:20:"Helvetica,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"14";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:1:"6";s:5:"right";s:1:"0";}}}}'),
            array("name" => _wp("Bestseller"), "settings" => 'a:12:{s:2:"id";s:8:"ribbon-1";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-1"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:3:{s:4:"type";s:8:"gradient";s:8:"gradient";a:4:{s:5:"start";s:6:"ff0000";s:3:"end";s:6:"990000";s:11:"orientation";s:6:"radial";s:4:"type";s:9:"to_bottom";}s:8:"elements";a:2:{s:7:":before";s:16:"border-top-color";s:6:":after";s:16:"border-top-color";}}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:4:"size";a:6:{s:4:"type";s:5:"input";s:5:"width";s:2:"48";s:6:"height";s:3:"105";s:11:"width_ratio";s:3:"0.5";s:5:"ratio";a:2:{s:7:":before";a:1:{s:12:"border-right";s:11:"transparent";}s:6:":after";a:1:{s:11:"border-left";s:11:"transparent";}}s:12:"height_ratio";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:3:"-12";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:2:"11";}}s:11:"orientation";s:10:"top_bottom";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-1-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-1-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-1-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-1-bt";}}s:12:"torientation";s:8:"vertical";s:10:"additional";a:4:{s:11:"dashed_line";a:2:{s:4:"type";s:5:"color";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:2:{s:9:"top-right";s:1:"0";s:8:"top-left";s:1:"0";}}s:4:"tail";a:6:{s:4:"type";s:5:"color";s:4:"code";s:39:"<span class="autobadge-pl-tail"></span>";s:8:"position";s:8:"top_left";s:14:"avail_position";a:2:{i:0;s:8:"top_left";i:1;s:9:"top_right";}s:5:"color";s:6:"263746";s:4:"size";s:1:"6";}s:6:"tongue";a:2:{s:4:"size";s:2:"20";s:8:"elements";a:2:{s:7:":before";a:1:{s:6:"bottom";s:16:"border-top-width";}s:6:":after";a:1:{s:6:"bottom";s:16:"border-top-width";}}}}s:9:"multiline";s:1:"1";s:4:"text";a:2:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Best')) . ':"' . _wp('Best') . '";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"1";s:6:"family";s:16:"Arial,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"14";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:2:"-2";s:5:"right";s:1:"0";}}i:1;a:5:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('seller')) . ':"' . _wp('seller') . '";s:7:"margins";a:1:{s:5:"right";s:2:"28";}s:5:"align";s:6:"center";s:5:"width";s:3:"105";}}}'),
            array("name" => _wp("Present"), "settings" => 'a:13:{s:2:"id";s:8:"ribbon-3";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-3"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:4:{s:4:"type";s:5:"color";s:8:"gradient";a:6:{s:5:"start";s:6:"ff0000";s:3:"end";s:6:"990000";s:11:"orientation";s:6:"radial";s:4:"type";s:9:"to_bottom";s:15:"start_color_rgb";s:7:"255,0,0";s:13:"end_color_rgb";s:7:"153,0,0";}s:5:"color";s:6:"ee2d5a";s:9:"color_rgb";s:9:"238,45,90";}s:6:"border";a:3:{s:5:"width";s:1:"0";s:5:"style";s:5:"solid";s:5:"color";s:6:"000000";}s:4:"size";a:8:{s:4:"type";s:5:"input";s:5:"width";s:2:"70";s:9:"max-width";s:0:"";s:10:"max-height";s:0:"";s:6:"height";s:2:"70";s:9:"autowidth";s:1:"1";s:12:"height_ratio";s:1:"0";s:11:"width_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"5";s:6:"spread";s:1:"0";s:5:"color";s:6:"808080";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:11:"orientation";s:10:"top_bottom";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-3-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-3-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-3-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-3-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:3:{s:11:"dashed_line";a:2:{s:4:"type";s:4:"hide";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:4:{s:9:"top-right";s:2:"70";s:8:"top-left";s:2:"70";s:11:"bottom-left";s:2:"70";s:12:"bottom-right";s:2:"70";}}s:4:"tail";a:5:{s:4:"type";s:4:"hide";s:8:"position";s:9:"top_right";s:14:"avail_position";a:2:{i:0;s:8:"top_left";i:1;s:9:"top_right";}s:5:"color";s:6:"263746";s:4:"size";s:1:"6";}}s:9:"multiline";s:1:"1";s:4:"text";a:1:{i:0;a:5:{s:4:"type";s:5:"image";s:3:"src";s:24:"%plugin_url%img/gift.png";s:3:"top";s:2:"14";s:5:"right";s:2:"17";s:5:"width";s:2:"35";}}}'),
            array("name" => _wp("Present - ribbon"), "settings" => 'a:11:{s:2:"id";s:11:"ribbon-4-bl";s:12:"construction";s:96:"<div class="autobadge-pl ribbon-4"><span class="badge-text-block"><span>Text</span></span></div>";s:10:"background";a:4:{s:4:"type";s:8:"gradient";s:7:"element";s:16:"badge-text-block";s:8:"gradient";a:4:{s:5:"start";s:6:"ff0000";s:3:"end";s:6:"990000";s:11:"orientation";s:6:"linear";s:4:"type";s:9:"to_bottom";}s:8:"elements";a:2:{s:7:":before";a:2:{i:0;s:16:"border-top-color";i:1;s:17:"border-left-color";}s:6:":after";a:2:{i:0;s:16:"border-top-color";i:1;s:18:"border-right-color";}}}s:6:"border";a:3:{s:5:"width";s:1:"0";s:5:"style";s:5:"solid";s:5:"color";s:6:"000000";}s:10:"box-shadow";a:7:{s:7:"element";s:16:"badge-text-block";s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"3";s:4:"blur";s:2:"10";s:6:"spread";s:2:"-5";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:4:"size";a:5:{s:4:"type";s:5:"range";s:5:"width";s:2:"12";s:6:"height";s:2:"35";s:14:"height_element";a:1:{s:16:"badge-text-block";s:11:"line-height";}s:4:"keys";a:2:{s:4:"root";a:2:{i:0;s:5:"width";i:1;s:6:"height";}s:16:"badge-text-block";a:3:{i:0;s:5:"width";i:1;s:6:"bottom";i:2;s:4:"left";}}}s:8:"position";a:1:{s:7:"margins";a:2:{s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:11:"orientation";s:11:"bottom_left";s:12:"orientations";a:4:{s:8:"top_left";a:1:{s:2:"id";s:11:"ribbon-4-tl";}s:9:"top_right";a:1:{s:2:"id";s:11:"ribbon-4-tr";}s:11:"bottom_left";a:1:{s:2:"id";s:11:"ribbon-4-bl";}s:12:"bottom_right";a:1:{s:2:"id";s:11:"ribbon-4-br";}}s:10:"additional";a:1:{s:5:"tails";a:1:{s:4:"type";s:4:"show";}}s:4:"text";a:1:{i:0;a:10:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Present')) . ':"' . _wp('Present') . '";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"0";s:6:"family";s:20:"Helvetica,sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"18";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:1:"3";s:5:"right";s:1:"0";}}}}'),
            array("name" => _wp("Free delivery"), "settings" => 'a:13:{s:2:"id";s:8:"ribbon-3";s:12:"construction";s:142:"<div class="autobadge-pl ribbon-3"><span class="badge-dashed-line"><span class="badge-text-block"><span>Ribbon text</span></span></span></div>";s:10:"background";a:2:{s:4:"type";s:8:"gradient";s:8:"gradient";a:6:{s:5:"start";s:6:"77beb0";s:3:"end";s:6:"29939e";s:11:"orientation";s:6:"linear";s:4:"type";s:9:"to_bottom";s:15:"start_color_rgb";s:11:"119,190,176";s:13:"end_color_rgb";s:10:"41,147,158";}}s:6:"border";a:3:{s:5:"width";s:1:"0";s:5:"style";s:5:"solid";s:5:"color";s:6:"000000";}s:4:"size";a:8:{s:4:"type";s:5:"input";s:5:"width";s:3:"100";s:9:"max-width";s:0:"";s:10:"max-height";s:0:"";s:6:"height";s:3:"100";s:9:"autowidth";s:1:"1";s:12:"height_ratio";s:1:"0";s:11:"width_ratio";s:3:"0.5";}s:10:"box-shadow";a:6:{s:8:"x-offset";s:1:"0";s:8:"y-offset";s:1:"0";s:4:"blur";s:1:"0";s:6:"spread";s:1:"0";s:5:"color";s:6:"000000";s:5:"inset";s:1:"0";}s:8:"position";a:2:{s:5:"value";s:8:"top_left";s:7:"margins";a:4:{s:3:"top";s:1:"0";s:5:"right";s:1:"0";s:6:"bottom";s:1:"0";s:4:"left";s:1:"0";}}s:11:"orientation";s:10:"top_bottom";s:12:"orientations";a:4:{s:10:"right_left";a:1:{s:2:"id";s:11:"ribbon-3-rl";}s:10:"left_right";a:1:{s:2:"id";s:11:"ribbon-3-lr";}s:10:"top_bottom";a:1:{s:2:"id";s:11:"ribbon-3-tb";}s:10:"bottom_top";a:1:{s:2:"id";s:11:"ribbon-3-bt";}}s:12:"torientation";s:10:"horizontal";s:10:"additional";a:3:{s:11:"dashed_line";a:2:{s:4:"type";s:4:"hide";s:5:"color";s:6:"000000";}s:6:"radius";a:1:{s:5:"value";a:4:{s:9:"top-right";s:2:"70";s:8:"top-left";s:2:"70";s:11:"bottom-left";s:2:"70";s:12:"bottom-right";s:2:"70";}}s:4:"tail";a:5:{s:4:"type";s:4:"hide";s:8:"position";s:9:"top_right";s:14:"avail_position";a:2:{i:0;s:8:"top_left";i:1;s:9:"top_right";}s:5:"color";s:6:"263746";s:4:"size";s:1:"6";}}s:9:"multiline";s:1:"1";s:4:"text";a:3:{i:0;a:5:{s:4:"type";s:5:"image";s:3:"src";s:28:"%plugin_url%img/delivery.png";s:3:"top";s:2:"15";s:5:"right";s:2:"27";s:5:"width";s:2:"50";}i:1;a:10:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('Free')) . ':"' . _wp('Free') . '";s:5:"color";s:6:"ffffff";s:6:"shadow";s:1:"0";s:6:"family";s:25:"' . "'Trebuchet MS'" . ',sans-serif";s:5:"style";s:4:"bold";s:4:"size";s:2:"16";s:5:"align";s:6:"center";s:5:"width";s:4:"auto";s:7:"margins";a:2:{s:3:"top";s:2:"13";s:5:"right";s:2:"-1";}}i:2;a:7:{s:4:"type";s:4:"text";s:5:"value";s:' . strlen(_wp('delivery')) . ':"' . _wp('delivery') . '";s:6:"shadow";s:1:"0";s:4:"size";s:2:"14";s:6:"family";s:12:"' . "'Lora'" . ',serif";s:5:"style";s:6:"italic";s:7:"margins";a:1:{s:3:"top";s:2:"15";}}}}'),
        );
        $satm->multipleInsert($templates);
    } catch (waDbException $e) {
        
    }

    // Создаем демонстрационные цели
    try {
        $sapm = new shopAutobadgePluginModel();
        $targets = array(
            array("name" => _wp("2 ribbons"), "conditions" => "", "target" => '[{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-br","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"0","height":"20","height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","right"]},"ratio":[]},"position":{"margins":{"bottom":0,"right":0}},"orientation":"bottom_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Best') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":"0","right":"0"}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":0,"height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","left"]},"ratio":[]},"position":{"margins":{"top":0,"left":0}},"orientation":"top_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Best') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":"-1","right":0}}]}}}]', "status" => 0),
            array("name" => _wp("Too much ribbons"), "conditions" => "", "target" => '[{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-br","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"81f54c","end":"3bc936","orientation":"linear","type":"to_bottom","start_color_rgb":"129,245,76","end_color_rgb":"59,201,54"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"15","height":"20","height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","right"]},"ratio":[]},"position":{"margins":{"bottom":0,"right":0}},"orientation":"bottom_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":"0","right":"0"}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"7979d1","end":"565694","orientation":"linear","type":"to_bottom","start_color_rgb":"121,121,209","end_color_rgb":"86,86,148"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"15","height":"20","height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","left"]},"ratio":[]},"position":{"margins":{"top":0,"left":0}},"orientation":"top_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":"-1","right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tr","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"15","height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","right"]},"ratio":[]},"position":{"margins":{"top":0,"right":0}},"orientation":"top_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-bl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"15","height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","left"]},"ratio":[]},"position":{"margins":{"bottom":0,"left":0}},"orientation":"bottom_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tr","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"78b2cf","end":"5889a1","orientation":"linear","type":"to_bottom","start_color_rgb":"120,178,207","end_color_rgb":"88,137,161"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":0,"height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","right"]},"ratio":[]},"position":{"margins":{"top":0,"right":0}},"orientation":"top_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bold","size":14,"align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":0,"height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","left"]},"ratio":[]},"position":{"margins":{"top":0,"left":0}},"orientation":"top_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-bl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":0,"height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","left"]},"ratio":[]},"position":{"margins":{"bottom":0,"left":0}},"orientation":"bottom_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-br","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":0,"height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","right"]},"ratio":[]},"position":{"margins":{"bottom":0,"right":0}},"orientation":"bottom_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bolditalic","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tr","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"8","height":"20","height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","right"]},"ratio":[]},"position":{"margins":{"top":0,"right":0}},"orientation":"top_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bold","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-tl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"7","height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","top","left"]},"ratio":[]},"position":{"margins":{"top":0,"left":0}},"orientation":"top_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bold","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-bl","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"8","height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","left"]},"ratio":[]},"position":{"margins":{"bottom":0,"left":0}},"orientation":"bottom_left","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bold","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-4","settings":{"id":"ribbon-4-br","construction":"<div class=\"autobadge-pl ribbon-4\"><span class=\"badge-text-block\"><span>Text</span></span></div>","background":{"type":"gradient","element":"badge-text-block","gradient":{"start":"ff0000","end":"990000","orientation":"linear","type":"to_bottom"},"elements":{":before":["border-top-color","border-left-color"],":after":["border-top-color","border-right-color"]}},"border":{"width":0,"style":"solid","color":"000000"},"box-shadow":{"element":"badge-text-block","x-offset":0,"y-offset":3,"blur":10,"spread":-5,"color":"000000","inset":0},"size":{"type":"range","width":"8","height":20,"height_element":{"badge-text-block":"line-height"},"keys":{"root":["width","height"],"badge-text-block":["width","bottom","right"]},"ratio":[]},"position":{"margins":{"bottom":0,"right":0}},"orientation":"bottom_right","orientations":{"top_left":{"id":"ribbon-4-tl"},"top_right":{"id":"ribbon-4-tr"},"bottom_left":{"id":"ribbon-4-bl"},"bottom_right":{"id":"ribbon-4-br"}},"additional":{"tails":{"type":"show"}},"text":[{"type":"text","value":"' . _wp('Ribbon') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bold","size":"16","align":"center","width":"auto","margins":{"top":0,"right":0}}]}}},{"target":"create","conditions":{"id":"ribbon-6","settings":{"id":"ribbon-6","construction":"<div class=\"autobadge-pl ribbon-6\"><span class=\"badge-text-block\"></span></div>","size":{"type":"input","width":"50","height":"50"},"position":{"value":"center_center","margins":{"top":0,"right":0,"bottom":0,"left":0}},"torientation":"horizontal","multiline":1,"text":[{"type":"image","src":"%plugin_url%img/dead.png","width":"50","top":"0","right":0}]}}}]', "status" => 0),
            array("name" => _wp("50% in black circle"), "conditions" => "", "target" => '[{"target":"create","conditions":{"id":"ribbon-3","settings":{"id":"ribbon-3","construction":"<div class=\"autobadge-pl ribbon-3\"><span class=\"badge-dashed-line\"><span class=\"badge-text-block\"><span>Ribbon text</span></span></span></div>","background":{"type":"color","gradient":{"start":"fbda36","end":"f47226","orientation":"linear","type":"to_bottom","start_color_rgb":"251,218,54","end_color_rgb":"244,114,38","transparency":"1"},"color":"1f1f1f","color_rgb":"31,31,31","elements":[]},"border":{"width":"0","style":"solid","color":"000000"},"size":{"type":"input","width":"60","max-width":"","max-height":"","height":"60","autowidth":"1","height_ratio":"0","width_ratio":"0.5","ratio":[]},"position":{"value":"bottom_left","margins":{"top":"5","right":"0","bottom":"5","left":"5"}},"orientation":"top_bottom","orientations":{"right_left":{"id":"ribbon-3-rl"},"left_right":{"id":"ribbon-3-lr"},"top_bottom":{"id":"ribbon-3-tb"},"bottom_top":{"id":"ribbon-3-bt"}},"torientation":"horizontal","additional":{"dashed_line":{"type":"hide","color":"000000"},"radius":{"value":{"top-right":"70","top-left":"70","bottom-left":"70","bottom-right":"70"}},"tail":{"type":"hide","position":"top_right","avail_position":["top_left","top_right"],"color":"263746","size":"6"}},"multiline":"1","text":[{"type":"text","value":"50%","size":"22"}]}}},{"target":"create","conditions":{"id":"ribbon-3","settings":{"id":"ribbon-3","construction":"<div class=\"autobadge-pl ribbon-3\"><span class=\"badge-dashed-line\"><span class=\"badge-text-block\"><span>Ribbon text</span></span></span></div>","background":{"type":"color","gradient":{"start":"ff0000","end":"990000","orientation":"radial","type":"to_bottom","start_color_rgb":"255,0,0","end_color_rgb":"153,0,0"},"color":"ee2d5a","color_rgb":"238,45,90","elements":[]},"border":{"width":"0","style":"solid","color":"000000"},"size":{"type":"input","width":"70","max-width":"","max-height":"","height":"70","autowidth":"1","height_ratio":"0","width_ratio":"0.5","ratio":[]},"box-shadow":{"x-offset":"0","y-offset":"0","blur":"5","spread":"0","color":"808080","inset":"0"},"position":{"value":"bottom_left","margins":{"top":"0","right":"0","bottom":"0","left":"0"}},"orientation":"top_bottom","orientations":{"right_left":{"id":"ribbon-3-rl"},"left_right":{"id":"ribbon-3-lr"},"top_bottom":{"id":"ribbon-3-tb"},"bottom_top":{"id":"ribbon-3-bt"}},"torientation":"horizontal","additional":{"dashed_line":{"type":"hide","color":"000000"},"radius":{"value":{"top-right":"70","top-left":"70","bottom-left":"70","bottom-right":"70"}},"tail":{"type":"hide","position":"top_right","avail_position":["top_left","top_right"],"color":"263746","size":"6"}},"multiline":"1","text":[]}}}]', "status" => 0),
            array("name" => _wp("Counter and image badge"), "conditions" => "", "target" => '[{"target":"create","conditions":{"id":"ribbon-6","settings":{"id":"ribbon-6","construction":"<div class=\"autobadge-pl ribbon-6\"><span class=\"badge-text-block\"></span></div>","size":{"type":"input","width":"50","height":"50"},"position":{"value":"bottom_left","margins":{"top":0,"right":0,"bottom":0,"left":0}},"torientation":"horizontal","multiline":1,"text":[{"type":"text","value":"-15%","margins":{"top":"15"},"shadow":0,"color":"ffffff"},{"type":"image","src":"%plugin_url%img/badges/Badge-9.png","width":"50","top":0,"right":0}]}}},{"target":"create","conditions":{"id":"ribbon-3","settings":{"id":"ribbon-3-lr","construction":"<div class=\"autobadge-pl ribbon-3\"><span class=\"badge-dashed-line\"><span class=\"badge-text-block\"><span>Ribbon text</span></span></span></div>","background":{"type":"color","gradient":{"start":"ff0000","end":"990000","orientation":"radial","type":"to_right"},"elements":[],"color":"007bb0","color_rgb":"0,123,176"},"border":{"width":"0","style":"solid","color":"000000"},"size":{"type":"input","width":"auto","max-width":"","max-height":"","height":"25","autowidth":1,"ratio":[],"height_ratio":"0.5","width_ratio":"0"},"box-shadow":{"x-offset":0,"y-offset":0,"blur":0,"spread":0,"color":"000000","inset":0},"position":{"value":"top_left","margins":{"top":0,"right":0,"bottom":0,"left":0}},"orientation":"left_right","orientations":{"right_left":{"id":"ribbon-3-rl"},"left_right":{"id":"ribbon-3-lr"},"top_bottom":{"id":"ribbon-3-tb"},"bottom_top":{"id":"ribbon-3-bt"}},"torientation":"horizontal","additional":{"dashed_line":{"type":"hide","color":"000000"},"radius":{"value":{"top-right":"5","top-left":"5","bottom-left":"5","bottom-right":"5"}},"tail":{"type":"hide","position":"top_left","avail_position":["bottom_left","top_left"],"color":"263746","size":"6"}},"multiline":1,"text":[{"type":"text","value":"{counter date=\"31.12.2017\"}","color":"ffffff","shadow":0,"family":"Arial,sans-serif","style":"bold","size":14,"align":"center","width":"auto","margins":{"top":0,"right":0}}]}}}]', "status" => 0),
            array("name" => _wp("Composite difficult badge"), "conditions" => '{"group_op":"and","conditions":[{"op":"gt","value":"0","type":"product_compare_price"}]}', "target" => '[{"target":"create","conditions":{"id":"ribbon-1","settings":{"id":"ribbon-1-rl","construction":"<div class=\"autobadge-pl ribbon-1\"><span class=\"badge-dashed-line\"><span class=\"badge-text-block\"><span>Ribbon text</span></span></span></div>","background":{"type":"color","gradient":{"start":"ff0000","end":"990000","orientation":"radial","type":"to_left"},"elements":{":before":"border-right-color",":after":"border-right-color"},"color":"fd3f3f","color_rgb":"253,63,63"},"box-shadow":{"x-offset":"0","y-offset":0,"blur":"0","spread":"0","color":"000000","inset":0},"size":{"type":"input","width":"122","height":"45","width_ratio":"0","ratio":{":before":{"border-bottom":"transparent"},":after":{"border-top":"transparent"}},"height_ratio":"0.5"},"position":{"value":"top_right","margins":{"top":0,"right":0,"bottom":0,"left":0}},"orientation":"right_left","orientations":{"right_left":{"id":"ribbon-1-rl"},"left_right":{"id":"ribbon-1-lr"},"top_bottom":{"id":"ribbon-1-tb"},"bottom_top":{"id":"ribbon-1-bt"}},"torientation":"horizontal","additional":{"dashed_line":{"type":"hide","color":"000000"},"radius":{"value":{"top-right":0,"bottom-right":0}},"tail":{"type":"hide","code":"<span class=\"autobadge-pl-tail\"></span>","position":"top_right","avail_position":["top_right","bottom_right"],"color":"263746","size":"6"},"tongue":{"elements":{":before":{"left":"border-right-width"},":after":{"left":"border-right-width"}}}},"multiline":1,"text":[{"type":"text","value":"' . _wp('Only today') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bold","size":14,"align":"center","width":"auto","margins":{"top":"-6","right":0}},{"type":"text","value":"' . _wp('Sale') . '!","family":"Arial,sans-serif","align":"center","margins":{"right":""},"color":"d8fa50","shadow":0,"size":"14","width":"100"}]}}},{"target":"create","conditions":{"id":"ribbon-2","settings":{"id":"ribbon-2","construction":"<div class=\"autobadge-pl ribbon-2\"><span class=\"badge-dashed-line\"><span class=\"badge-text-block\"><span>Ribbon text</span></span></span></div>","background":{"type":"color","gradient":{"start":"ff0000","end":"990000","orientation":"radial","type":"to_bottom"},"elements":{":before":"border-top-color"},"color":"fd3f3f","color_rgb":"253,63,63"},"size":{"type":"input","width":"70","height":"44","width_ratio":"0.5","ratio":{":before":{"border-right":"transparent","border-left":"transparent"}},"height_ratio":"0"},"box-shadow":{"x-offset":0,"y-offset":0,"blur":0,"spread":0,"color":"000000","inset":0},"position":{"value":"top_right","margins":{"top":"100","right":0,"bottom":0,"left":0}},"orientation":"top_bottom","orientations":{"right_left":{"id":"ribbon-2-rl"},"left_right":{"id":"ribbon-2-lr"},"top_bottom":{"id":"ribbon-2-tb"},"bottom_top":{"id":"ribbon-2-bt"}},"torientation":"horizontal","additional":{"dashed_line":{"type":"hide","color":"000000"},"radius":{"value":{"top-right":0,"top-left":0}},"tail":{"type":"hide","position":"top_right","avail_position":["top_left","top_right"],"color":"263746","size":"6"},"tongue":{"elements":{":before":{"bottom":"border-top-width"}}}},"multiline":1,"text":[{"type":"text","value":"' . _wp('Ends in') . '","color":"ffffff","shadow":1,"family":"Arial,sans-serif","style":"bold","size":"12","align":"center","width":"auto","margins":{"top":"-3","right":0}},{"type":"text","value":"{$tomorrow = waDateTime::date(' . "'Y-m-d'" . ', \"+1 day\"|strtotime)}\n{counter date=$tomorrow}","size":"16","margins":{"top":"1"}}]}}},{"target":"create","conditions":{"id":"ribbon-3","settings":{"id":"ribbon-3","construction":"<div class=\"autobadge-pl ribbon-3\"><span class=\"badge-dashed-line\"><span class=\"badge-text-block\"><span>Ribbon text</span></span></span></div>","background":{"type":"color","gradient":{"start":"ff0000","end":"990000","orientation":"radial","type":"to_bottom"},"elements":[],"color":"ffffff","color_rgb":"255,255,255"},"border":{"width":0,"style":"solid","color":"000000"},"size":{"type":"input","width":"70","max-width":"","max-height":"","height":"60","autowidth":1,"ratio":[],"height_ratio":"0","width_ratio":"0.5"},"box-shadow":{"x-offset":0,"y-offset":0,"blur":"10","spread":0,"color":"666666","inset":true},"position":{"value":"top_right","margins":{"top":"42","right":0,"bottom":0,"left":0}},"orientation":"top_bottom","orientations":{"right_left":{"id":"ribbon-3-rl"},"left_right":{"id":"ribbon-3-lr"},"top_bottom":{"id":"ribbon-3-tb"},"bottom_top":{"id":"ribbon-3-bt"}},"torientation":"horizontal","additional":{"dashed_line":{"type":"hide","color":"000000"},"radius":{"value":{"top-right":0,"top-left":0,"bottom-left":0,"bottom-right":0}},"tail":{"type":"hide","position":"top_right","avail_position":["top_left","top_right"],"color":"263746","size":"6"}},"multiline":1,"text":[{"type":"text","value":"{$product.discount_percentage}","color":"666666","shadow":0,"family":"Arial,sans-serif","style":"bold","size":"22","align":"center","width":"auto","margins":{"top":"15","right":"12"}},{"type":"text","value":"%","color":"666666","size":"14","shadow":0,"margins":{"top":"-7","right":"-18"}},{"type":"text","value":"' . _wp('discount') . '","color":"666666","shadow":0,"size":"10","margins":{"top":"-7","right":""},"width":"60","align":"right"},{"type":"text","value":"' . _wp('price off') . '","size":"10","color":"666666","shadow":0,"margins":{"top":"-12","right":"3"}},{"type":"text","value":"{shop_currency($product.margin_comp, true)}","margins":{"top":"-15"},"color":"e8385c","size":"10","width":"60","align":"right","shadow":0,"style":"bold"}]}}}]', "status" => 0),
        );
        foreach ($targets as $q) {
            if ($id = $sapm->insert($q)) {
                $sapm->updateById($id, array("sort" => $id));
            }
        }
    } catch (waDbException $e) {
        
    }
    $app_settings->set('shop.autobadge', 'first_install', 1);
}
